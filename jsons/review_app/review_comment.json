{
    "id": "review_comment",
    "component": "blockGroup",
    "extraclass": ["review-comment", "@commentId"],
    "on-click": "scrollIntoView",
    "items": [
      {
        "component": "blockGroup",
        "extraclass": "comment-block-container",
        "items":[
          {
            "component": "blockGroup",
            "extraclass": "comment-header",
            "items": [
              {
                "component": "blockGroup",
                "extraclass": "comment-heading-user",
                "items": [
                  {
                    "component": "image",
                    "extraclass": "user-image",
                    "data": "@thumbnail"
                  },
                  {
                    "component": "blockGroup",
                    "extraclass": "review-info",
                    "items": [
                      {
                        "component": "label",
                        "extraclass": "reviewer-name",
                        "label": "@user"
                      }
                    ]
                  }
                ]
              },
              {
                "component": "blockGroup",
                "show": "@showOptions",
                "hide": "@reviewCompleted",
                "extraclass": "options-ellipsis",
                "items": [
                  {
                    "component": "button",
                    "show": "@oldVersion",
                    "icon": "history",
                    "extraclass": "@historyIconClass",
                    "title": "@historyIconToolTip",
                    "on-click": "toggleDiffView"
                  },
                  {
                    "component": "button",
                    "show": "@editable",
                    "extraclass": "review-ellipsis",
                    "icon": "more",
                    "title": "Options",
                    "on-click": "showMoreOptions",
                  }
                ]
              },
              {
                "component": "buttonGroup",
                "hide": ["@showOptions", "@reviewCompleted"],
                "extraclass": "accept-reject",
                "selected": "@commentStatus",
                "items": [
                  {
                    "component": "button",
                    "show": "@oldVersion", // remove?
                    "icon": "history",
                    "extraclass": "@historyIconClass",  // extraclass === dynamic
                    "title": "@historyIconToolTip"
                  },
                  {
                    
                    "component": "button",
                    "icon": "@acceptIcon",
                    "extraclass": "hover-item",  // same extraclasses
                    "title": "Accept comment",
                    "value": "accepted",
                    "on-click": "accept"
                  },
                  {
                    "component": "button",
                    "icon": "@rejectIcon",
                    "extraclass": "hover-item",
                    "title": "Reject comment",
                    "value": "rejected",
                    "on-click": "reject"
                  },
                  {
                    "component": "button",
                    "show": "@editable",
                    "extraclass": ["review-ellipsis", "hover-item"],
                    "icon": "more",
                    "title": "Options",
                    "on-click": "showMoreOptions"
                  }
                ]
              }
            ]
          },
          {
            "component": "blockGroup",
            "extraclass": "more-review-info",
            "items": [
              {
                "component": "label",
                "extraclass": "date-time",
                "label": "@dateTime"
              }
            ]
          },
          {
            "component": "div",
            "showClass": "@editing",
            "on-blur": "uneditComment",
            "extraclass": "edit-comment",
            "items": [
              {
                "component": "blockGroup",
                "class": "comment-block",
                "extraclass": "@textAreaClass",
                "items": [
                  {
                    "component": "textarea",
                    "extraclass": "edit-textfield",
                    "id": "edit_reply",
                    "data": "@comment",
                    "on-keyup": {
                      "name": "submitEditComment",
                      "eventArgs": {
                        "keys": [
                          "ENTER"
                        ]
                      }
                    },
                    "stopKeyPropagation": true
                  },
                  {
                    "component": "widget",
                    "id": "file_upload", 
                    "on-blur": "uneditComment",
                    "inputModel":{
                      "commentId":"@commentId"
                    }
                  }
                ]
              },
              {
                "component": "widget",
                "inputModel": { "attachments" : "@attachments", "editable" : "@editable"},
                "id": "attachment_tiles",
                "hide": {
                  "key": "@attachments.length",
                  "values": [
                    0
                  ],
                  "type": "boolean"
                }
              },
              {
                "component": "selectlist",
                "data": "@selectedAttachments",
                "hide":"@emptySelectedAttachments",
                "itemConfig": {
                    "component": "widget",
                    "id": "attachment_list_item",
                    "tabindex": 0
                }
              },
              {
                "component": "buttonGroup",
                "items": [
                  {
                    "component": "button",
                    "label": "Submit",
                    "extraclass": "submit-button",
                    "variant": "primary",
                    "quiet": true,
                    "on-click": "submitEditComment"
                  }
                ]
              }
            ]
          },
          {
            "component": "blockGroup",
            "hideClass": "@editing",
            "extraclass": "comment-body",
            "items": [
              {
                "component": "blockGroup",
                "extraclass": "comment-body-header",
                "items": [
                  {
                    "extraclass": "comment-type",
                    "icon": "@commentTypeIcon",
                    "quiet": true,
                    "title": "@commentTypeToolTip",
                    "component": "button"
                  },
                  {
                    "component": "label",
                    "extraclass": "comment-selection",
                    "data": "@selection"
                  }
                ]
              },
              {
                "component": "label",
                "extraclass": [
                  "comment-content",
                  "@emptySelectionClass"
                ]
              },
              {
                "component": "widget",
                "inputModel": { "attachments" : "@attachments", "editable": "@editable"},
                "id": "attachment_tiles",
                "hide": {
                  "key": "@attachments.length",
                  "values": [
                    0
                  ],
                  "type": "boolean"
                }
              }
            ]
          }
        ]
      },
      {
        "component": "accordion",
        "hide": "@hideReplyLabel",
        "on-blur": "uneditComment",
        "extraclass": "reply-list-container",
        "multiple": false,
        "activeTabId": "undefined",
        "items": [
          {
            "label": "@replyLabel",
            "items": [
              {
                "component": "div",
                "extraclass": "reply-list",
                "hide":"@emptyReplies",
                "data": "@replies",
                "itemConfig": {
                  "component": "widget",
                  "id": "comment_reply"
                }
              },
              {
                "component": "widget",
                "id": "comment_new_reply",
                "hide": "@hideNewReply"
              }
            ]
          }
        ]
      }
    ]
  }